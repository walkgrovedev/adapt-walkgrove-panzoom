.panzoom {

    &__inner {
        width:100%;
        height: auto;
        position: relative;
    }

    &__main {
        width:100%;
        height:100%;
        position: relative;
    }
    
    &__images {
        overflow: hidden;
        
        position: relative;   
        top:0;
        left:0;

        box-shadow: 0 4px 8px 0 fade(@black, 30%);
        background-color: white;

        @media (max-width: @device-width-medium) { 
            box-shadow: none;
        }
        border-radius: 1rem 1rem 0 0;
        
        @media (max-width: @device-width-small) { 
            margin-bottom: 1rem;
        }

        // @media (max-width: @device-width-small) { 
        //     display: none;
        // }

        .panzoom__image-placeholder {
            position: absolute;
            top:0;
            left:0;

            opacity: 0;
        }

        .panzoom__image {

            position: relative;
            display:inline-block;
            top:0;
            left:0;
            width: 100%;
            height: 100%;

            opacity: 0.3;
            @media (max-width: @device-width-medium) { 
                opacity: 1; 
            }

            &.scale {
                animation-name: scaleIn;
                animation-duration: 1s;
                transform: scale(2);

                opacity: 1;
            }

            &.scaleDown {
                animation-name: scaleOut;
                animation-duration: 1s;
                transform: scale(1);
                top: 0%;
            }
        }

        .panzoom__image-fade {
            opacity: 0;

            position: absolute;
            display: inline-block;
            top:0;
            left:0;
            width: 100%;
            height: 100%;

            transform: scale(2);

            &.show {

                animation-name: fadeIn;
                animation-duration: 1s;
                opacity: 1;
                z-index: 1;
            }

            &.hide {
                animation-name: fadeOut;
                animation-duration: 1s;
                opacity: 0;
            }
        }

        .panzoom__image-small {
            position: absolute;
            right:0;
            bottom:0;
            
            max-width: 20%;
            min-width: 20%;
            border: 2px solid @item-color-selected;

            background-color: @white;
            z-index: 2;

            display: none;

            &.is-visible {
                display: block;
                animation-name: fadeIn;
                animation-duration: 1s;
            }
        }
    }

    &__widget {
        position: absolute;
        top:0;
        left:0;
        width: 100%;
        height: 100%;

        overflow: hidden;

        border-radius: 1rem 1rem 0 0;

        display: none;

        @media (max-width: @device-width-medium) { 
            position: relative;
            margin-bottom: 1rem;

            display: flex;
            flex-direction: column;
            height: auto;
        }

        &.is-visible {
            display: block;

            animation-name: fadeIn;
            animation-duration: 1s;
        }

        .panzoom__widget-image {
            opacity: 0;

            @media (max-width: @device-width-medium) { 
                opacity: 1;
                border: none;
            }
        }

        // .panzoom__widget-image-fade {
        //     opacity: 0;

        //     position: absolute;
        //     top: 0;
        //     left: 0;
        //     width: 100%;
        //     height: 100%;
        //     background-color: white;
        //     object-fit: cover;

        //     &.show {
        //         animation-name: fadeIn;
        //         animation-duration: 0.75s;
        //         opacity: 1;
        //     }

        //     &.hide {
        //         animation-name: fadeOut;
        //         animation-duration: 0.75s;
        //         opacity: 0;
        //     }
        // }

        .panzoom__widget-content {
            position: absolute;
            bottom: 0;

            width: 80%;

            @media (max-width: 1024px) { 
                font-size: 0.9em;
            }

            @media (max-width: @device-width-medium) { 
                position: relative;
                width: 100%;
            }

            @media (max-width: @device-width-small) { 
                margin-top: 1rem;
                border-radius: 0.5rem;
            }

            background-color: @item-color;
            color: @item-color-inverted;
            padding: 0.5rem 1rem;

            z-index: 2;

            .panzoom__widget-title {
                font-size: 1.2rem;
                font-weight: 700;
            }
        }
    }

    &__controls {
        position: absolute;
        top:0;
        left:0;
        
        z-index:1;
        
        display: flex;
        width: 100%;
        height: 100%;

        justify-content: center;
        align-items: center;

        @media (max-width: @device-width-medium) { 
            display: none;
        }

        .btn {
            top:50%;
            transform: translate(0%,-50%);
            position: absolute;

            &.is-disabled {
                pointer-events: none;
                background-color: @disabled;
                color: @disabled-inverted;
            }

            &.is-hidden {
                display: none;
            }
        }

        .js-panzoom-prev {
            float: left;
            left:0;
            border-radius: 0px;
            min-width: 0;
        }

        .js-panzoom-next {
            float: right;
            right:0;
            border-radius: 0px;
            min-width: 0;
        }

        .js-panzoom-start {
            
        }
    }
}

@keyframes fadeIn {
    from {opacity: 0; display: none;}
    to {opacity: 1; display: block;}
}

@keyframes fadeOut {
    from {opacity: 1; display: block;}
    to {opacity: 0; display: none;}
}

@keyframes scaleIn {
    from { transform: scale(1); }
    to { transform: scale(2); }
}

@keyframes scaleOut {
    from { transform: scale(2); }
    to { transform: scale(1); }
}




.dir-rtl {

    .panzoom__controls .js-panzoom-next {
        left: 0;
        right: auto;
    }

    .panzoom__controls .js-panzoom-prev {
        right: 0;
        left: auto;
    }

    .panzoom__images .panzoom__image-small {
        left: 0;
        right: auto;
    }


}